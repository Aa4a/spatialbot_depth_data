[2025-02-14 18:29:57,985] [INFO] [real_accelerator.py:222:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2025-02-14 18:29:58,879] [WARNING] [runner.py:215:fetch_hostfile] Unable to find hostfile, will proceed with training with local resources only.
[2025-02-14 18:29:58,879] [INFO] [runner.py:607:main] cmd = /home/ps/anaconda3/envs/spatialbot/bin/python -u -m deepspeed.launcher.launch --world_info=eyJsb2NhbGhvc3QiOiBbMF19 --master_addr=127.0.0.1 --master_port=29500 --enable_each_rank_log=None bunny/train/train.py --deepspeed ./script/deepspeed/zero2.json --model_name_or_path /path/to/base_llm_model --model_type --version plain --data_path ./data/pretrain/bunny_pretrain_laion_2m.json --image_folder ./data/pretrain/images --vision_tower /path/to/siglip-so400m-patch14-384 --mm_projector_type mlp2x_gelu --tune_mm_mlp_adapter True --image_aspect_ratio square --bf16 True --output_dir ./checkpoints-pretrain/ --num_train_epochs 1 --per_device_train_batch_size 8 --per_device_eval_batch_size 4 --gradient_accumulation_steps 4 --evaluation_strategy no --save_strategy steps --save_steps 24000 --save_total_limit 1 --learning_rate 5e-4 --weight_decay 0. --warmup_ratio 0.03 --lr_scheduler_type cosine --logging_steps 1 --tf32 True --model_max_length 2048 --gradient_checkpointing True --dataloader_num_workers 4 --lazy_preprocess True --report_to none
[2025-02-14 18:29:59,539] [INFO] [real_accelerator.py:222:get_accelerator] Setting ds_accelerator to cuda (auto detect)
[2025-02-14 18:30:00,423] [INFO] [launch.py:146:main] WORLD INFO DICT: {'localhost': [0]}
[2025-02-14 18:30:00,423] [INFO] [launch.py:152:main] nnodes=1, num_local_procs=1, node_rank=0
[2025-02-14 18:30:00,423] [INFO] [launch.py:163:main] global_rank_mapping=defaultdict(<class 'list'>, {'localhost': [0]})
[2025-02-14 18:30:00,423] [INFO] [launch.py:164:main] dist_world_size=1
[2025-02-14 18:30:00,423] [INFO] [launch.py:168:main] Setting CUDA_VISIBLE_DEVICES=0
[2025-02-14 18:30:00,429] [INFO] [launch.py:256:main] process 114488 spawned with command: ['/home/ps/anaconda3/envs/spatialbot/bin/python', '-u', 'bunny/train/train.py', '--local_rank=0', '--deepspeed', './script/deepspeed/zero2.json', '--model_name_or_path', '/path/to/base_llm_model', '--model_type', '--version', 'plain', '--data_path', './data/pretrain/bunny_pretrain_laion_2m.json', '--image_folder', './data/pretrain/images', '--vision_tower', '/path/to/siglip-so400m-patch14-384', '--mm_projector_type', 'mlp2x_gelu', '--tune_mm_mlp_adapter', 'True', '--image_aspect_ratio', 'square', '--bf16', 'True', '--output_dir', './checkpoints-pretrain/', '--num_train_epochs', '1', '--per_device_train_batch_size', '8', '--per_device_eval_batch_size', '4', '--gradient_accumulation_steps', '4', '--evaluation_strategy', 'no', '--save_strategy', 'steps', '--save_steps', '24000', '--save_total_limit', '1', '--learning_rate', '5e-4', '--weight_decay', '0.', '--warmup_ratio', '0.03', '--lr_scheduler_type', 'cosine', '--logging_steps', '1', '--tf32', 'True', '--model_max_length', '2048', '--gradient_checkpointing', 'True', '--dataloader_num_workers', '4', '--lazy_preprocess', 'True', '--report_to', 'none']
[2025-02-14 18:30:01,430] [INFO] [launch.py:319:sigkill_handler] Killing subprocess 114488
[2025-02-14 18:30:01,431] [ERROR] [launch.py:325:sigkill_handler] ['/home/ps/anaconda3/envs/spatialbot/bin/python', '-u', 'bunny/train/train.py', '--local_rank=0', '--deepspeed', './script/deepspeed/zero2.json', '--model_name_or_path', '/path/to/base_llm_model', '--model_type', '--version', 'plain', '--data_path', './data/pretrain/bunny_pretrain_laion_2m.json', '--image_folder', './data/pretrain/images', '--vision_tower', '/path/to/siglip-so400m-patch14-384', '--mm_projector_type', 'mlp2x_gelu', '--tune_mm_mlp_adapter', 'True', '--image_aspect_ratio', 'square', '--bf16', 'True', '--output_dir', './checkpoints-pretrain/', '--num_train_epochs', '1', '--per_device_train_batch_size', '8', '--per_device_eval_batch_size', '4', '--gradient_accumulation_steps', '4', '--evaluation_strategy', 'no', '--save_strategy', 'steps', '--save_steps', '24000', '--save_total_limit', '1', '--learning_rate', '5e-4', '--weight_decay', '0.', '--warmup_ratio', '0.03', '--lr_scheduler_type', 'cosine', '--logging_steps', '1', '--tf32', 'True', '--model_max_length', '2048', '--gradient_checkpointing', 'True', '--dataloader_num_workers', '4', '--lazy_preprocess', 'True', '--report_to', 'none'] exits with return code = 1
